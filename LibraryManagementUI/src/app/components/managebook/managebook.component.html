<body class="admin_style">
  <div class="wrapper">
    <!-- Sidebar -->
    <aside id="sidebar">
      <div class="h-100">
        <div class="sidebar-logo sidebar-color py-2">
          <a href="admin">
            <i class="fa-solid fa-carrot pe-2"></i>
            <span class="link-text">Zesty</span>
          </a>
        </div>
        <!-- Sidebar Navigation -->
        <ul class="sidebar-nav">
          <li class="sidebar-item">
            <a href="admin" class="sidebar-link">
              <i class="fa-solid fa-gauge-high pe-2"></i>
              <span class="link-text">Dashboard</span>
            </a>
          </li>
          <li class="sidebar-item manage-students">
            <a href="managestudents" class="sidebar-link collapsed">
              <i class="fa-solid fa-user pe-2"></i>
              <span class="link-text">ManageStudent</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a href="managebook" class="sidebar-link collapsed">
              <i class="fa-solid fa-bars-progress pe-2"></i>
              <span class="link-text">Manage Book</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a href="addbook" class="sidebar-link collapsed">
              <i class="fa-solid fa-book pe-2"></i>
              <span class="link-text">Add Book</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a href="bookissue" class="sidebar-link collapsed">
              <i class="fa-solid fa-book-open-reader pe-2"></i>
              <span class="link-text">Book Issue</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a href="returnbook" class="sidebar-link collapsed">
              <i class="fa-solid fa-right-left pe-2"></i>
              <span class="link-text">Return Book</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a href="returntracker" class="sidebar-link collapsed">
              <i class="fa-solid fa-rotate-left pe-2"></i>
              <span class="link-text">ReturnTracker</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a href="report" class="sidebar-link collapsed">
              <i class="fa-solid fa-flag pe-2"></i>
              <span class="link-text">Report</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a (click)="logout()" class="sidebar-link collapsed appLogout">
              <i class="fa-solid fa-power-off pe-2"></i>
              <span class="link-text">Logout</span>
            </a>
          </li>
        </ul>
      </div>
    </aside>
    <!-- Main Component -->
    <div class="main">
      <nav class="navbar navbar-expand px-3 border-bottom nav-custum">
        <!-- Button for sidebar toggle -->
        <button class="btn text-left btn-custum" type="button" data-bs-theme="dark">
          <span class="navbar-toggler-icon"></span>
        </button>
      </nav>
      <main class="content px-3 py-2">
        <div class="container-fluid">
          <div class="mb-3">
            <h1>Manage Book</h1>
            <div class="table-responsive table-responsive-sm table-responsive-md col-10 col-sm-10 col-md-12">
              <table class="table table-bordered table-hover">
                <thead class="thead-dark">
                  <tr>
                    <th scope="col">ID_B</th>
                    <th scope="col">Book Name</th>
                    <th scope="col">Author</th>
                    <th scope="col">Publisher</th>
                    <th scope="col">Book Count</th>
                    <th scope="col">Cost Per Book</th>
                    <th scope="col">Total Cost</th>
                    <th scope="col">Edit</th>
                    <th scope="col">Delete</th>
                  </tr>
                </thead>
                <tbody>
                  <ng-container *ngFor="let row of rows; let i = index">
                    <tr>
                      <!-- <td *ngIf="editingRowIndex !== i">{{row.ID_B}}</td>
                      <td *ngIf="editingRowIndex === i"><input type="text" [(ngModel)]="editingRow.ID_B" required></td> -->
                      <td>{{row.ID_B}}</td>

                      <td *ngIf="editingRowIndex !== i">{{row.book_name}}</td>
                      <td *ngIf="editingRowIndex === i"><input type="text" [(ngModel)]="editingRow.book_name" required></td>

                      <td *ngIf="editingRowIndex !== i">{{row.author}}</td>
                      <td *ngIf="editingRowIndex === i"><input type="text" [(ngModel)]="editingRow.author" required></td>

                      <td *ngIf="editingRowIndex !== i">{{row.publisher}}</td>
                      <td *ngIf="editingRowIndex === i"><input type="text" [(ngModel)]="editingRow.publisher" required></td>

                      <td *ngIf="editingRowIndex !== i">{{row.book_count}}</td>
                      <td *ngIf="editingRowIndex === i"><input type="number" [(ngModel)]="editingRow.book_count"required></td>

                      <td *ngIf="editingRowIndex !== i">{{row.cost_per_book}}</td>
                      <td *ngIf="editingRowIndex === i"><input type="number" [(ngModel)]="editingRow.cost_per_book"required></td>

                      <td>{{row.total_cost}}</td>
                      <td>
                        <ng-container *ngIf="editingRowIndex !== i; else editBtns">
                          <button class="btn btn-primary btn-sm" (click)="editRow_book(i)">
                            <i class="fa-solid fa-edit"></i>
                          </button>
                        </ng-container>
                        <ng-template #editBtns>
                          <div class="btn-group" role="group">
                            <button class="btn btn-success btn-sm" (click)="saveRow_book()">
                              <i class="fa-solid fa-save"></i>
                            </button>
                            <button class="btn btn-secondary btn-sm" (click)="cancelEdit()">
                              <i class="fa-solid fa-times"></i>
                            </button>
                          </div>
                        </ng-template>
                      </td>

                      <td>
                        <button class="btn btn-danger btn-sm" (click)="deleteRow_book(row.ID_B)">
                          <i class="fa-solid fa-trash"></i>
                        </button>
                      </td>
                    </tr>
                  </ng-container>
                </tbody>
              </table>
            </div>

          </div>
        </div>
      </main>
    </div>
  </div>

</body>